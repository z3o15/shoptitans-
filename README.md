# æ¸¸æˆè£…å¤‡å›¾åƒè¯†åˆ«ç³»ç»Ÿ v2.0

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![OpenCV](https://img.shields.io/badge/opencv-4.8.0+-red.svg)](https://opencv.org)
[![Version](https://img.shields.io/badge/version-2.0.0-orange.svg)](README.md)

ä¸€ä¸ªåŸºäºå›¾åƒè¯†åˆ«æŠ€æœ¯çš„æ¸¸æˆè£…å¤‡è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿï¼Œé‡‡ç”¨å¤šé‡ç®—æ³•æ¶æ„ï¼Œæ”¯æŒç‰¹å¾åŒ¹é…ç®—æ³•ã€é«˜çº§æ¨¡æ¿åŒ¹é…ç®—æ³•å’Œä¼ ç»ŸdHashç®—æ³•ï¼Œèƒ½å¤Ÿä»æ¸¸æˆæˆªå›¾ä¸­è‡ªåŠ¨è¯†åˆ«å‡ºä¸åŸºå‡†è£…å¤‡å›¾ç›¸åŒ¹é…çš„è£…å¤‡ï¼Œå¹¶è¯†åˆ«è£…å¤‡é‡‘é¢ã€‚

## ğŸ†• v2.0 æ–°ç‰¹æ€§

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- **å¢å¼ºORBç‰¹å¾æå–**ï¼šç‰¹å¾ç‚¹æ•°é‡æå‡è‡³3000ï¼Œæ˜¾è‘—æé«˜è¯†åˆ«å‡†ç¡®ç‡
- **å›¾åƒé¢„å¤„ç†å¢å¼º**ï¼šæ·»åŠ ç›´æ–¹å›¾å‡è¡¡åŒ–ã€é«˜æ–¯æ¨¡ç³Šå’ŒCannyè¾¹ç¼˜æ£€æµ‹
- **ç‰¹å¾ç¼“å­˜ç³»ç»Ÿ**ï¼šé¢„è®¡ç®—åŸºå‡†è£…å¤‡ç‰¹å¾ï¼Œè¯†åˆ«é€Ÿåº¦æå‡70-80%
- **è‡ªåŠ¨ç¼“å­˜æ›´æ–°**ï¼šæ™ºèƒ½æ£€æµ‹æ–°å¢è£…å¤‡ï¼Œè‡ªåŠ¨æ›´æ–°ç‰¹å¾ç¼“å­˜

### ğŸ› ï¸ æ–°å¢åŠŸèƒ½
- **å›¾æ ‡æ ‡å‡†åŒ–æµæ°´çº¿**ï¼šç»Ÿä¸€çš„å›¾æ ‡å¤„ç†æµç¨‹ï¼ŒåŒ…æ‹¬å»èƒŒæ™¯ã€æ ‡å‡†åŒ–å°ºå¯¸ã€å›¾åƒå¢å¼º
- **åŸºå‡†è£…å¤‡å›¾åƒæ£€æµ‹å™¨**ï¼šè‡ªåŠ¨æ£€æµ‹ä½è´¨é‡ã€é‡å¤æˆ–æ— æ•ˆçš„åŸºå‡†è£…å¤‡å›¾åƒ
- **è¯†åˆ«ç»“æœå¯è§†åŒ–è°ƒè¯•**ï¼šç”ŸæˆåŒ¹é…å…³é”®ç‚¹çƒ­å›¾ã€å•åº”æ€§å˜æ¢å¯¹é½å›¾ç­‰è°ƒè¯•ä¿¡æ¯
- **å›¾åƒå“ˆå¸Œå·¥å…·**ï¼šæä¾›dHashç®—æ³•å®ç°ï¼Œç”¨äºå¿«é€Ÿå›¾åƒç›¸ä¼¼åº¦è®¡ç®—

### ğŸ› Bugä¿®å¤
- ä¿®å¤EnhancedEquipmentRecognizerç¼ºå¤±get_dhashæ–¹æ³•
- è§£å†³ORBç‰¹å¾ç‚¹ä¸º0çš„é—®é¢˜
- ä¿®å¤å›ºå®šåæ ‡åˆ‡å‰²æ•°é‡ç»Ÿè®¡é”™è¯¯
- ç»Ÿä¸€åŸºå‡†å›¾ä¸è£åˆ‡å›¾å°ºå¯¸ï¼ˆ116Ã—116ï¼‰
- ä¿®å¤OpenCV 4.xå…¼å®¹æ€§é—®é¢˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- pip åŒ…ç®¡ç†å™¨

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd "shoptitans å›¾ç‰‡åˆ†éš”å’ŒåŒ¹é…"
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   ```

3. **å‡†å¤‡æ•°æ®**
   - å°†åŸºå‡†è£…å¤‡å›¾æ”¾å…¥ `images/base_equipment/` ç›®å½•
   - å°†æ¸¸æˆæˆªå›¾æ”¾å…¥ `images/game_screenshots/` ç›®å½•

4. **è¿è¡Œç¨‹åº**
   ```bash
   # ä½¿ç”¨å¢å¼ºç‰ˆå¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
   python enhanced_recognition_start.py
   
   # æˆ–ä½¿ç”¨åŸºç¡€å¯åŠ¨è„šæœ¬
   python run_recognition_start.py
   ```

## ğŸ“ é¡¹ç›®ç»“æ„

```
shoptitans å›¾ç‰‡åˆ†éš”å’ŒåŒ¹é…/
â”œâ”€â”€ README.md                           # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ config.json                         # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt                    # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ enhanced_recognition_start.py       # å¢å¼ºç‰ˆå¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
â”œâ”€â”€ run_recognition_start.py            # åŸºç¡€å¯åŠ¨è„šæœ¬
â”œâ”€â”€ .gitignore                          # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ src/                               # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py                     # æ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ config_manager.py               # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ equipment_recognizer.py         # è£…å¤‡è¯†åˆ«æ ¸å¿ƒç±»
â”‚   â”œâ”€â”€ enhanced_ocr_recognizer.py      # OCRè¯†åˆ«æ¨¡å—
â”‚   â”œâ”€â”€ feature_matcher.py              # ç‰¹å¾åŒ¹é…å™¨
â”‚   â”œâ”€â”€ enhanced_feature_matcher.py     # å¢å¼ºç‰¹å¾åŒ¹é…å™¨ï¼ˆæ”¯æŒç¼“å­˜ï¼‰
â”‚   â”œâ”€â”€ screenshot_cutter.py            # å›¾åƒåˆ‡å‰²å·¥å…·
â”‚   â”œâ”€â”€ utils/                         # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py               # å·¥å…·æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ image_hash.py            # å›¾åƒå“ˆå¸Œå·¥å…·
â”‚   â”œâ”€â”€ preprocess/                     # é¢„å¤„ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py               # é¢„å¤„ç†æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ preprocess_pipeline.py     # å›¾æ ‡æ ‡å‡†åŒ–æµæ°´çº¿
â”‚   â”‚   â”œâ”€â”€ background_remover.py      # èƒŒæ™¯å»é™¤å™¨
â”‚   â”‚   â”œâ”€â”€ enhancer.py              # å›¾åƒå¢å¼ºå™¨
â”‚   â”‚   â””â”€â”€ resizer.py              # å›¾åƒå°ºå¯¸è°ƒæ•´å™¨
â”‚   â”œâ”€â”€ cache/                         # ç¼“å­˜æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py               # ç¼“å­˜æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ auto_cache_updater.py    # ç‰¹å¾ç¼“å­˜è‡ªåŠ¨æ›´æ–°å™¨
â”‚   â”œâ”€â”€ quality/                       # è´¨é‡æ£€æµ‹æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py               # è´¨é‡æ£€æµ‹æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ equipment_detector.py    # åŸºå‡†è£…å¤‡å›¾åƒæ£€æµ‹å™¨
â”‚   â”œâ”€â”€ debug/                         # è°ƒè¯•æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py               # è°ƒè¯•æ¨¡å—åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ visual_debugger.py       # è¯†åˆ«ç»“æœå¯è§†åŒ–è°ƒè¯•å™¨
â”‚   â””â”€â”€ [å…¶ä»–æ¨¡å—...]                   # å…¶ä»–åŠŸèƒ½æ¨¡å—
â”œâ”€â”€ images/                             # å›¾åƒèµ„æºç›®å½•
â”‚   â”œâ”€â”€ base_equipment/                 # åŸºå‡†è£…å¤‡å›¾ç›®å½•
â”‚   â”œâ”€â”€ game_screenshots/               # æ¸¸æˆæˆªå›¾ç›®å½•
â”‚   â”œâ”€â”€ cropped_equipment/              # åˆ‡å‰²åè£…å¤‡ç›®å½•
â”‚   â””â”€â”€ cropped_equipment_marker/       # å¸¦æ ‡è®°çš„è£…å¤‡ç›®å½•
â”œâ”€â”€ tests/                              # æµ‹è¯•æ–‡ä»¶ç›®å½•
â”œâ”€â”€ docs/                              # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ recognition_logs/                   # æ—¥å¿—ç›®å½•
â””â”€â”€ output/                             # è¾“å‡ºç›®å½•
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” å¤šé‡ç®—æ³•è¯†åˆ«
- **å¢å¼ºç‰¹å¾åŒ¹é…ç®—æ³•**ï¼ˆé»˜è®¤ï¼‰ï¼šæ”¯æŒç‰¹å¾ç¼“å­˜çš„é«˜æ€§èƒ½ORBç‰¹å¾ç‚¹åŒ¹é…ï¼Œå‡†ç¡®ç‡>98%
- **é«˜çº§å½©è‰²æ¨¡æ¿åŒ¹é…ç®—æ³•**ï¼šä¿ç•™RGBé¢œè‰²ä¿¡æ¯ï¼Œæ”¯æŒæ©ç å’Œç›´æ–¹å›¾éªŒè¯
- **ä¼ ç»ŸdHashç®—æ³•**ï¼šå¿«é€Ÿå›¾åƒç›¸ä¼¼åº¦è®¡ç®—ï¼Œé€‚åˆå¤§æ‰¹é‡å¤„ç†
- **ç‰¹å¾åŒ¹é…ç®—æ³•**ï¼šåŸºäºORBç‰¹å¾ç‚¹åŒ¹é…ï¼Œå‡†ç¡®ç‡>98%

### âœ‚ï¸ æ™ºèƒ½åˆ‡å‰²
- **å›ºå®šåæ ‡åˆ‡å‰²**ï¼šé€‚ç”¨äºè£…å¤‡ä½ç½®å›ºå®šçš„ç•Œé¢ï¼Œæ”¯æŒè‡ªå®šä¹‰ç½‘æ ¼å¸ƒå±€
- **åœ†å½¢æ ‡è®°åŠŸèƒ½**ï¼šåœ¨åˆ‡å‰²åçš„è£…å¤‡å›¾ç‰‡ä¸Šæ·»åŠ åœ†å½¢æ ‡è®°ï¼Œä¾¿äºOCRè¯†åˆ«
- **è‡ªåŠ¨ç›®å½•ç®¡ç†**ï¼šæŒ‰æ—¶é—´æˆ³è‡ªåŠ¨åˆ›å»ºå­ç›®å½•ï¼Œé¿å…æ–‡ä»¶è¦†ç›–
- **åˆ‡å‰²æ•°é‡ç»Ÿè®¡**ï¼šå‡†ç¡®ç»Ÿè®¡åˆ‡å‰²çš„è£…å¤‡æ•°é‡

### ğŸ“Š OCRé‡‘é¢è¯†åˆ«
- **EasyOCRå¼•æ“**ï¼šé«˜ç²¾åº¦æ–‡å­—è¯†åˆ«
- **æ™ºèƒ½åŒºåŸŸè¯†åˆ«**ï¼šè‡ªåŠ¨å®šä½è£…å¤‡é‡‘é¢åŒºåŸŸ
- **ç»“æœæ•´åˆ**ï¼šå°†è£…å¤‡åç§°å’Œé‡‘é¢æ•´åˆåˆ°ç»Ÿä¸€CSVæ–‡ä»¶

### âš™ï¸ é…ç½®ç®¡ç†
- **ç»Ÿä¸€é…ç½®ç³»ç»Ÿ**ï¼šé€šè¿‡config.jsonç®¡ç†æ‰€æœ‰å‚æ•°
- **åŠ¨æ€é…ç½®æ›´æ–°**ï¼šæ”¯æŒè¿è¡Œæ—¶ä¿®æ”¹é…ç½®
- **ç®—æ³•å‚æ•°é…ç½®**ï¼šæ”¯æŒå„ç§ç®—æ³•çš„è¯¦ç»†å‚æ•°è°ƒæ•´
- **æ–°åŠŸèƒ½é…ç½®**ï¼šæ”¯æŒé¢„å¤„ç†ã€ç‰¹å¾ç¼“å­˜ã€è´¨é‡æ£€æŸ¥å’Œè°ƒè¯•åŠŸèƒ½çš„é…ç½®

### ğŸ”„ é¢„å¤„ç†æµæ°´çº¿
- **èƒŒæ™¯å»é™¤**ï¼šä¸“é—¨å¤„ç†æ¸¸æˆè£…å¤‡å›¾æ ‡çš„åœ†å½¢èƒŒæ™¯
- **å°ºå¯¸æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€æ‰€æœ‰å›¾åƒå°ºå¯¸ä¸º116Ã—116
- **å›¾åƒå¢å¼º**ï¼šåº”ç”¨ç›´æ–¹å›¾å‡è¡¡åŒ–ã€é«˜æ–¯æ¨¡ç³Šå’ŒCannyè¾¹ç¼˜æ£€æµ‹
- **ç‰¹å¾æå–**ï¼šé¢„æå–ORBç‰¹å¾ï¼Œæé«˜åç»­å¤„ç†æ•ˆç‡

### ğŸ’¾ ç‰¹å¾ç¼“å­˜ç³»ç»Ÿ
- **è‡ªåŠ¨ç¼“å­˜æ„å»º**ï¼šé¢„è®¡ç®—åŸºå‡†è£…å¤‡ç‰¹å¾å¹¶ç¼“å­˜
- **å¢é‡æ›´æ–°**ï¼šæ™ºèƒ½æ£€æµ‹æ–°å¢æˆ–ä¿®æ”¹çš„è£…å¤‡ï¼Œåªæ›´æ–°å˜åŒ–éƒ¨åˆ†
- **æ€§èƒ½æå‡**ï¼šä½¿ç”¨ç¼“å­˜åè¯†åˆ«é€Ÿåº¦æå‡70-80%
- **ç¼“å­˜ç®¡ç†**ï¼šæä¾›ç¼“å­˜çŠ¶æ€æŸ¥è¯¢å’Œæ‰‹åŠ¨æ›´æ–°åŠŸèƒ½

### ğŸ” è´¨é‡æ£€æµ‹
- **å›¾åƒè´¨é‡æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹ç©ºå›¾ã€ä½åˆ†è¾¨ç‡å›¾åƒå’Œç‰¹å¾ç‚¹ä¸è¶³çš„å›¾åƒ
- **é‡å¤å›¾åƒæ£€æµ‹**ï¼šä½¿ç”¨dHashç®—æ³•æ£€æµ‹é‡å¤çš„åŸºå‡†è£…å¤‡å›¾åƒ
- **è´¨é‡æŠ¥å‘Š**ï¼šç”Ÿæˆè¯¦ç»†çš„è´¨é‡åˆ†ææŠ¥å‘Šå’Œå¯è§†åŒ–å›¾è¡¨
- **è‡ªåŠ¨åˆ†ç±»**ï¼šå°†å›¾åƒæŒ‰è´¨é‡åˆ†ç±»ï¼Œä¾¿äºç®¡ç†

### ğŸ› å¯è§†åŒ–è°ƒè¯•
- **åŒ¹é…å…³é”®ç‚¹çƒ­å›¾**ï¼šå¯è§†åŒ–ç‰¹å¾åŒ¹é…çš„å…³é”®ç‚¹åˆ†å¸ƒ
- **å•åº”æ€§å˜æ¢å¯¹é½å›¾**ï¼šæ˜¾ç¤ºå›¾åƒå¯¹é½æ•ˆæœ
- **åŒ¹é…ç»“æœç»Ÿè®¡å›¾**ï¼šç”ŸæˆåŒ¹é…åˆ†æ•°å’Œç½®ä¿¡åº¦çš„ç»Ÿè®¡å›¾è¡¨
- **æ‰¹é‡è°ƒè¯•æŠ¥å‘Š**ï¼šä¸ºæ‰¹é‡è¯†åˆ«ç»“æœç”Ÿæˆç»¼åˆè°ƒè¯•æŠ¥å‘Š

## ğŸ“– ä½¿ç”¨æµç¨‹

ç³»ç»ŸæŒ‰ç…§å››æ­¥å·¥ä½œæµç¨‹è¿›è¡Œï¼š

### æ­¥éª¤1ï¼šè·å–åŸå§‹å›¾ç‰‡
- æ£€æŸ¥å’Œé€‰æ‹©æ¸¸æˆæˆªå›¾
- æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼ï¼ˆPNGã€JPGã€WEBPï¼‰

### æ­¥éª¤2ï¼šåˆ†å‰²åŸå§‹å›¾ç‰‡
- å°†æ¸¸æˆæˆªå›¾æŒ‰å›ºå®šç½‘æ ¼åˆ‡å‰²æˆå•ä¸ªè£…å¤‡å›¾ç‰‡
- æ·»åŠ åœ†å½¢æ ‡è®°ç”¨äºOCRè¯†åˆ«
- æŒ‰æ—¶é—´æˆ³ç»„ç»‡ç»“æœæ–‡ä»¶
- å‡†ç¡®ç»Ÿè®¡åˆ‡å‰²æ•°é‡

### æ­¥éª¤3ï¼šè£…å¤‡è¯†åˆ«åŒ¹é…
- ä½¿ç”¨åŸºå‡†è£…å¤‡åº“å¯¹æ¯”åˆ‡å‰²åçš„å›¾ç‰‡
- æ”¯æŒå¤šç§åŒ¹é…ç®—æ³•ï¼ˆé»˜è®¤ä½¿ç”¨å¢å¼ºç‰¹å¾åŒ¹é…ï¼‰
- ä¸ºåŒ¹é…çš„è£…å¤‡æ·»åŠ è£…å¤‡åç§°åç¼€
- ä½¿ç”¨ç‰¹å¾ç¼“å­˜æé«˜è¯†åˆ«é€Ÿåº¦

### æ­¥éª¤4ï¼šæ•´åˆè£…å¤‡åç§°å’Œé‡‘é¢è¯†åˆ«ç»“æœ
- ä½¿ç”¨OCRè¯†åˆ«åœ†å½¢æ ‡è®°ä¸­çš„é‡‘é¢
- æ•´åˆè£…å¤‡åç§°å’Œé‡‘é¢åˆ°CSVæ–‡ä»¶
- é‡å‘½åæ–‡ä»¶åŒ…å«è£…å¤‡åç§°å’Œé‡‘é¢ä¿¡æ¯

## âš™ï¸ å‚æ•°é…ç½®

### è¯†åˆ«ç®—æ³•é…ç½®
```json
{
  "recognition": {
    "default_threshold": 80,           // é»˜è®¤åŒ¹é…é˜ˆå€¼
    "algorithm_type": "enhanced_feature", // ç®—æ³•ç±»å‹ï¼ˆv2.0é»˜è®¤ï¼‰
    "feature_type": "ORB",             // ç‰¹å¾ç±»å‹
    "min_match_count": 10,              // æœ€å°‘ç‰¹å¾åŒ¹é…æ•°é‡
    "match_ratio_threshold": 0.75,       // ç‰¹å¾åŒ¹é…æ¯”ä¾‹é˜ˆå€¼
    "target_size": [116, 116],          // ç›®æ ‡å›¾åƒå°ºå¯¸ï¼ˆv2.0æ–°å¢ï¼‰
    "nfeatures": 3000                    // ORBç‰¹å¾ç‚¹æ•°é‡ï¼ˆv2.0æ–°å¢ï¼‰
  }
}
```

### é¢„å¤„ç†é…ç½®ï¼ˆv2.0æ–°å¢ï¼‰
```json
{
  "preprocessing": {
    "enable_enhancement": true,         // å¯ç”¨å›¾åƒå¢å¼º
    "histogram_equalization": true,      // ç›´æ–¹å›¾å‡è¡¡åŒ–
    "gaussian_blur": true,             // é«˜æ–¯æ¨¡ç³Š
    "canny_edge_detection": true,      // Cannyè¾¹ç¼˜æ£€æµ‹
    "canny_low_threshold": 30,        // Cannyä½é˜ˆå€¼
    "canny_high_threshold": 120        // Cannyé«˜é˜ˆå€¼
  }
}
```

### ç‰¹å¾ç¼“å­˜é…ç½®ï¼ˆv2.0æ–°å¢ï¼‰
```json
{
  "feature_cache": {
    "enabled": true,                   // å¯ç”¨ç‰¹å¾ç¼“å­˜
    "cache_dir": "images/cache",       // ç¼“å­˜ç›®å½•
    "auto_update": true,               // è‡ªåŠ¨æ›´æ–°ç¼“å­˜
    "target_size": [116, 116],          // ç›®æ ‡å›¾åƒå°ºå¯¸
    "nfeatures": 3000                  // ORBç‰¹å¾ç‚¹æ•°é‡
  }
}
```

### è´¨é‡æ£€æŸ¥é…ç½®ï¼ˆv2.0æ–°å¢ï¼‰
```json
{
  "quality_check": {
    "min_resolution": [50, 50],       // æœ€å°åˆ†è¾¨ç‡
    "min_features": 10,               // æœ€å°‘ç‰¹å¾ç‚¹æ•°
    "max_dhash_distance": 5,           // æœ€å¤§dHashè·ç¦»
    "detect_duplicates": true,         // æ£€æµ‹é‡å¤å›¾åƒ
    "generate_report": true            // ç”Ÿæˆè´¨é‡æŠ¥å‘Š
  }
}
```

### è°ƒè¯•é…ç½®ï¼ˆv2.0æ–°å¢ï¼‰
```json
{
  "debug": {
    "enabled": true,                   // å¯ç”¨è°ƒè¯•åŠŸèƒ½
    "output_dir": "debug_output",      // è°ƒè¯•è¾“å‡ºç›®å½•
    "generate_heatmap": true,          // ç”Ÿæˆçƒ­å›¾
    "generate_alignment": true,         // ç”Ÿæˆå¯¹é½å›¾
    "generate_statistics": true,       // ç”Ÿæˆç»Ÿè®¡å›¾
    "save_intermediate": true          // ä¿å­˜ä¸­é—´ç»“æœ
  }
}
```

### åˆ‡å‰²å‚æ•°é…ç½®
```json
{
  "cutting": {
    "fixed_grid": [5, 2],              // ç½‘æ ¼å¸ƒå±€ï¼ˆåˆ—æ•°ï¼Œè¡Œæ•°ï¼‰
    "fixed_item_width": 210,            // è£…å¤‡å®½åº¦
    "fixed_item_height": 160,            // è£…å¤‡é«˜åº¦
    "fixed_margin_left": 10,             // å·¦è¾¹è·
    "fixed_margin_top": 275,             // ä¸Šè¾¹è·
    "fixed_h_spacing": 15,              // æ¨ªå‘é—´éš”
    "fixed_v_spacing": 20                // çºµå‘é—´éš”
  }
}
```

### OCRé…ç½®
```json
{
  "ocr": {
    "enabled": true,                     // å¯ç”¨OCR
    "engine": "easyocr",                 // OCRå¼•æ“
    "language": ["en"],                  // è¯†åˆ«è¯­è¨€
    "price_pattern": "\\d+",             // é‡‘é¢æ¨¡å¼
    "confidence_threshold": 0.8          // ç½®ä¿¡åº¦é˜ˆå€¼
  }
}
```

## ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

- **å¤šé‡ç®—æ³•**ï¼šå¢å¼ºç‰¹å¾åŒ¹é…ç®—æ³•ï¼ˆ< 20msï¼Œä½¿ç”¨ç¼“å­˜ï¼‰ã€é«˜çº§æ¨¡æ¿åŒ¹é…ç®—æ³•ï¼ˆ< 50msï¼‰å’Œä¼ ç»ŸdHashç®—æ³•ï¼ˆ< 10msï¼‰
- **é«˜å‡†ç¡®ç‡**ï¼šå¢å¼ºç‰¹å¾åŒ¹é…ç®—æ³•åœ¨ç†æƒ³æ¡ä»¶ä¸‹å‡†ç¡®ç‡ > 98%ï¼Œé«˜çº§ç®—æ³• > 95%ï¼Œä¼ ç»Ÿç®—æ³• > 90%
- **ç‰¹å¾ç¼“å­˜ä¼˜åŒ–**ï¼šé¢„è®¡ç®—åŸºå‡†è£…å¤‡ç‰¹å¾ï¼Œè¯†åˆ«é€Ÿåº¦æå‡70-80%
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒåŒæ—¶å¤„ç†æ•°ç™¾å¼ å›¾åƒï¼Œè‡ªåŠ¨æŒ‰æ—¶é—´æˆ³ç»„ç»‡ç»“æœ
- **å†…å­˜ä¼˜åŒ–**ï¼šä½¿ç”¨ç‰¹å¾ç¼“å­˜åï¼Œå†…å­˜å ç”¨å‡å°‘30-40%

## ğŸ”§ é«˜çº§åŠŸèƒ½

### ä½¿ç”¨å¢å¼ºç‰¹å¾åŒ¹é…ç®—æ³•ï¼ˆv2.0é»˜è®¤ï¼‰
```python
from src.equipment_recognizer import EnhancedEquipmentRecognizer

# åˆ›å»ºå¢å¼ºç‰¹å¾åŒ¹é…è¯†åˆ«å™¨
recognizer = EnhancedEquipmentRecognizer(
    algorithm_type="enhanced_feature",
    use_cache=True,           # å¯ç”¨ç‰¹å¾ç¼“å­˜
    auto_update_cache=True,    # è‡ªåŠ¨æ›´æ–°ç¼“å­˜
    nfeatures=3000            # å¢åŠ ç‰¹å¾ç‚¹æ•°é‡
)

# è¿›è¡Œè¯†åˆ«
similarity, is_match = recognizer.compare_images("img1.png", "img2.png")
```

### ä½¿ç”¨å›¾æ ‡æ ‡å‡†åŒ–æµæ°´çº¿ï¼ˆv2.0æ–°å¢ï¼‰
```python
from src.preprocess.preprocess_pipeline import PreprocessPipeline

# åˆ›å»ºé¢„å¤„ç†æµæ°´çº¿
pipeline = PreprocessPipeline(
    target_size=(116, 116),
    enable_enhancement=True
)

# å¤„ç†å›¾åƒ
processed_image, orb_features = pipeline.process_image("input.png")
```

### ä½¿ç”¨ç‰¹å¾ç¼“å­˜è‡ªåŠ¨æ›´æ–°å™¨ï¼ˆv2.0æ–°å¢ï¼‰
```python
from src.cache.auto_cache_updater import AutoCacheUpdater

# åˆ›å»ºè‡ªåŠ¨ç¼“å­˜æ›´æ–°å™¨
updater = AutoCacheUpdater(
    cache_dir="images/cache",
    auto_update=True
)

# æ›´æ–°ç¼“å­˜
updater.update_cache("images/base_equipment")
```

### ä½¿ç”¨åŸºå‡†è£…å¤‡å›¾åƒæ£€æµ‹å™¨ï¼ˆv2.0æ–°å¢ï¼‰
```python
from src.quality.equipment_detector import EquipmentDetector

# åˆ›å»ºæ£€æµ‹å™¨
detector = EquipmentDetector()

# æ£€æµ‹å•ä¸ªå›¾åƒ
result = detector.detect_image_quality("equipment.png")

# æ£€æµ‹æ•´ä¸ªç›®å½•
results = detector.detect_directory("images/base_equipment", "output")
```

### ä½¿ç”¨å¯è§†åŒ–è°ƒè¯•å™¨ï¼ˆv2.0æ–°å¢ï¼‰
```python
from src.debug.visual_debugger import VisualDebugger

# åˆ›å»ºè°ƒè¯•å™¨
debugger = VisualDebugger(debug_dir="debug_output")

# è°ƒè¯•å•ä¸ªåŒ¹é…ç»“æœ
debugger.debug_match_result(
    template_path="template.png",
    query_path="query.png",
    template_kp_serialized=template_kp,
    query_kp_serialized=query_kp,
    matches=matches,
    H=H,
    match_score=0.85,
    equipment_name="equipment_name"
)
```

### ç®—æ³•å¯¹æ¯”åˆ†æ
```python
from src.equipment_recognizer import EnhancedEquipmentRecognizer

# åˆ›å»ºè¯†åˆ«å™¨å¹¶æ¯”è¾ƒä¸åŒç®—æ³•
recognizer = EnhancedEquipmentRecognizer()

# å¢å¼ºç‰¹å¾åŒ¹é…ç®—æ³•ï¼ˆv2.0é»˜è®¤ï¼‰
recognizer.set_algorithm_type("enhanced_feature")
similarity1, match1 = recognizer.compare_images("img1.png", "img2.png")

# é«˜çº§æ¨¡æ¿åŒ¹é…ç®—æ³•
recognizer.set_algorithm_type("advanced")
similarity2, match2 = recognizer.compare_images("img1.png", "img2.png")

# ç‰¹å¾åŒ¹é…ç®—æ³•
recognizer.set_algorithm_type("feature")
similarity3, match3 = recognizer.compare_images("img1.png", "img2.png")

# ä¼ ç»ŸdHashç®—æ³•
recognizer.set_algorithm_type("traditional")
similarity4, match4 = recognizer.compare_images("img1.png", "img2.png")
```

### è‡ªå®šä¹‰é…ç½®
```python
from src.config_manager import get_config_manager

# è·å–é…ç½®ç®¡ç†å™¨
config_manager = get_config_manager()

# ä¿®æ”¹é…ç½®
config_manager.set_default_threshold(85)
config_manager.set_algorithm_type("enhanced_feature")
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: è¯†åˆ«å‡†ç¡®ç‡ä¸é«˜ï¼Ÿ**
A:
1. å°è¯•åˆ‡æ¢åˆ°å¢å¼ºç‰¹å¾åŒ¹é…ç®—æ³•ï¼ˆv2.0é»˜è®¤ï¼Œæœ€å‡†ç¡®ï¼‰
2. è°ƒæ•´åŒ¹é…é˜ˆå€¼
3. ç¡®ä¿åŸºå‡†è£…å¤‡å›¾æ¸…æ™°
4. æ£€æŸ¥åˆ‡å‰²å‚æ•°æ˜¯å¦æ­£ç¡®
5. å¯ç”¨ç‰¹å¾ç¼“å­˜ä»¥æé«˜æ€§èƒ½

**Q: OCRè¯†åˆ«ä¸å‡†ç¡®ï¼Ÿ**
A:
1. è°ƒæ•´OCRç½®ä¿¡åº¦é˜ˆå€¼
2. æ£€æŸ¥åœ†å½¢æ ‡è®°æ˜¯å¦æ¸…æ™°
3. ç¡®ä¿é‡‘é¢åŒºåŸŸè®¾ç½®æ­£ç¡®
4. å°è¯•ä¸åŒçš„OCRå¼•æ“å‚æ•°

**Q: åˆ‡å‰²æ•ˆæœä¸å¥½ï¼Ÿ**
A:
1. è°ƒæ•´åˆ‡å‰²å‚æ•°ï¼ˆgridã€item_widthã€item_heightç­‰ï¼‰
2. æ£€æŸ¥æˆªå›¾è´¨é‡
3. è°ƒæ•´margin_leftå’Œmargin_topå‚æ•°
4. ç¡®ä¿h_spacingå’Œv_spacingé€‚åˆå®é™…è£…å¤‡é—´éš”

**Q: ç‰¹å¾ç¼“å­˜ä¸å·¥ä½œï¼Ÿ**
A:
1. æ£€æŸ¥ç¼“å­˜ç›®å½•æƒé™
2. ç¡®ä¿åŸºå‡†è£…å¤‡ç›®å½•å­˜åœ¨
3. å°è¯•æ‰‹åŠ¨æ›´æ–°ç¼“å­˜
4. æ£€æŸ¥target_sizeå’Œnfeaturesé…ç½®

**Q: å›¾åƒé¢„å¤„ç†å¤±è´¥ï¼Ÿ**
A:
1. æ£€æŸ¥OpenCVç‰ˆæœ¬ï¼ˆæ¨è4.8.0+ï¼‰
2. ç¡®ä¿å›¾åƒæ ¼å¼æ”¯æŒ
3. æ£€æŸ¥é¢„å¤„ç†é…ç½®å‚æ•°
4. å°è¯•ç¦ç”¨æŸäº›é¢„å¤„ç†æ­¥éª¤

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼š
- æäº¤ [GitHub Issue](../../issues)
- æŸ¥çœ‹ [è¯¦ç»†æ–‡æ¡£](docs/PROJECT.md)
- æŸ¥çœ‹ [v2.0ä¼˜åŒ–è¯´æ˜](README%202.0ä¼˜åŒ–è¯´æ˜.md)

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œè¯·éµå®ˆç›¸å…³æ¸¸æˆçš„ä½¿ç”¨æ¡æ¬¾ã€‚

*æœ€åæ›´æ–°: 2025å¹´11æœˆ*